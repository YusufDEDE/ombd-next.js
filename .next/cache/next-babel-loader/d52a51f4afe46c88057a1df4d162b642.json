{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nvar _jsxFileName = \"/home/commodore64/ombd-next/pages/index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport fetch from 'isomorphic-unfetch';\nimport localStorage from 'mobx-localstorage';\nimport React, { useState, useEffect } from 'react';\nimport Card from '../components/Card';\nimport { inject, observer } from 'mobx-react';\nimport store from '../store';\n\nfunction Index(props) {\n  var _useState = useState(),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  var _useState2 = useState([]),\n      result = _useState2[0],\n      setResult = _useState2[1];\n\n  var _useState3 = useState([]),\n      favorite = _useState3[0],\n      setFavorite = _useState3[1];\n\n  var store = props.store;\n  var movielist = store.movielist;\n\n  var addFavorite = function addFavorite(object) {\n    store.add_movie(object);\n    console.log(JSON.parse(localStorage.getItem('favorites')));\n  };\n\n  var delFavorite = function delFavorite(index) {\n    var newFav = _toConsumableArray(favorite);\n\n    newFav.splice(index, 1);\n    setFavorite(newFav);\n    localStorage.setItem('favorites', _JSON$stringify(newFav));\n    console.log(JSON.parse(localStorage.getItem('favorites')));\n  };\n\n  var handleSubmit = function handleSubmit(e) {\n    var res, data;\n    return _regeneratorRuntime.async(function handleSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            e.preventDefault();\n\n            if (value) {\n              _context.next = 3;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 3:\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(fetch(\"http://www.omdbapi.com/?s=\".concat(value, \"&apikey=8ae8b189\")));\n\n          case 5:\n            res = _context.sent;\n            _context.next = 8;\n            return _regeneratorRuntime.awrap(res.json());\n\n          case 8:\n            data = _context.sent;\n            data.Response === \"True\" ? setResult(data.Search) : alert(\"Movie not found!\");\n            console.log(data);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  };\n\n  useEffect(function () {\n    if (localStorage.getItem('favorites')) {\n      store.set_movies(JSON.parse(localStorage.getItem('favorites')));\n    }\n  }, []);\n  return __jsx(\"div\", {\n    className: \"jsx-4114159983\" + \" \" + \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, __jsx(\"form\", {\n    id: \"form\",\n    onSubmit: handleSubmit,\n    className: \"jsx-4114159983\" + \" \" + \"form-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-4114159983\" + \" \" + \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-4114159983\" + \" \" + \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"Title\",\n    onChange: function onChange(e) {\n      return setValue(e.target.value);\n    },\n    className: \"jsx-4114159983\" + \" \" + \"form-control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"jsx-4114159983\" + \" \" + \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"Year\",\n    className: \"jsx-4114159983\" + \" \" + \"form-control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"jsx-4114159983\" + \" \" + \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, __jsx(\"select\", {\n    id: \"inputState\",\n    className: \"jsx-4114159983\" + \" \" + \"form-control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, __jsx(\"option\", {\n    defaultValue: true,\n    className: \"jsx-4114159983\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Choose...\"), __jsx(\"option\", {\n    className: \"jsx-4114159983\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"...\"))), __jsx(\"button\", {\n    type: \"submit\",\n    className: \"jsx-4114159983\" + \" \" + \"btn btn-info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"Search\"))), __jsx(\"hr\", {\n    className: \"jsx-4114159983\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }), __jsx(\"center\", {\n    className: \"jsx-4114159983\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-4114159983\" + \" \" + \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, result.map(function (movie, index) {\n    return __jsx(Card, {\n      key: index,\n      index: index,\n      movie: movie,\n      addFavorite: addFavorite,\n      delFavorite: delFavorite,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    });\n  }))), __jsx(_JSXStyle, {\n    id: \"4114159983\",\n    __self: this\n  }, \".form-control.jsx-4114159983{margin-right:12px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2NvbW1vZG9yZTY0L29tYmQtbmV4dC9wYWdlcy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFzRm9CLEFBRzhCLGtCQUVuQiIsImZpbGUiOiIvaG9tZS9jb21tb2RvcmU2NC9vbWJkLW5leHQvcGFnZXMvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZmV0Y2ggZnJvbSAnaXNvbW9ycGhpYy11bmZldGNoJztcbmltcG9ydCBsb2NhbFN0b3JhZ2UgZnJvbSAnbW9ieC1sb2NhbHN0b3JhZ2UnO1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQnO1xuaW1wb3J0IHtpbmplY3QsIG9ic2VydmVyfSBmcm9tICdtb2J4LXJlYWN0JztcbmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7XG5cblxuZnVuY3Rpb24gSW5kZXgocHJvcHMpIHtcblxuICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVN0YXRlKCk7XG4gIGNvbnN0IFtyZXN1bHQsIHNldFJlc3VsdF0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtmYXZvcml0ZSwgc2V0RmF2b3JpdGVdID0gdXNlU3RhdGUoW10pO1xuXG4gIFxuICBjb25zdCB7c3RvcmV9ID0gcHJvcHM7XG4gIGNvbnN0IHttb3ZpZWxpc3R9ID0gc3RvcmU7XG5cbiAgY29uc3QgYWRkRmF2b3JpdGUgPSBvYmplY3QgPT4ge1xuICAgICAgc3RvcmUuYWRkX21vdmllKG9iamVjdCk7XG4gICAgICBjb25zb2xlLmxvZyhKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmYXZvcml0ZXMnKSkpO1xuICB9O1xuXG4gIGNvbnN0IGRlbEZhdm9yaXRlID0gaW5kZXggPT4ge1xuICAgICAgY29uc3QgbmV3RmF2ID0gWy4uLmZhdm9yaXRlXTtcbiAgICAgIG5ld0Zhdi5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgc2V0RmF2b3JpdGUobmV3RmF2KTtcbiAgICAgIFxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Zhdm9yaXRlcycsIEpTT04uc3RyaW5naWZ5KG5ld0ZhdikpO1xuICAgICAgY29uc29sZS5sb2coSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmF2b3JpdGVzJykpKTtcbiAgICAgIFxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZighdmFsdWUpIHJldHVybjtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgaHR0cDovL3d3dy5vbWRiYXBpLmNvbS8/cz0ke3ZhbHVlfSZhcGlrZXk9OGFlOGIxODlgKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICBcbiAgICBcbiAgICBkYXRhLlJlc3BvbnNlID09PSBcIlRydWVcIiA/IHNldFJlc3VsdChkYXRhLlNlYXJjaCkgOiBhbGVydChcIk1vdmllIG5vdCBmb3VuZCFcIik7XG5cbiAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICBcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Zhdm9yaXRlcycpKXtcbiAgICAgIHN0b3JlLnNldF9tb3ZpZXMoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmF2b3JpdGVzJykpKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPGZvcm0gY2xhc3NOYW1lPVwiZm9ybS1pbmxpbmVcIiBpZD1cImZvcm1cIiBvblN1Ym1pdD17aGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2x1bW5cIj5cbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgcGxhY2Vob2xkZXI9XCJUaXRsZVwiIG9uQ2hhbmdlPXtlID0+IHNldFZhbHVlKGUudGFyZ2V0LnZhbHVlKX0vPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbHVtblwiPlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIiBwbGFjZWhvbGRlcj1cIlllYXJcIiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbHVtblwiPlxuICAgICAgICAgICAgICA8c2VsZWN0IGlkPVwiaW5wdXRTdGF0ZVwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gZGVmYXVsdFZhbHVlPkNob29zZS4uLjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24+Li4uPC9vcHRpb24+XG4gICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzc05hbWU9XCJidG4gYnRuLWluZm9cIj5TZWFyY2g8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgICA8aHIvPlxuXG4gICAgICAgIDxjZW50ZXI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIHtyZXN1bHQubWFwKChtb3ZpZSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgIDxDYXJkIGtleT17aW5kZXh9IFxuICAgICAgICAgICAgICBpbmRleD17aW5kZXh9IFxuICAgICAgICAgICAgICBtb3ZpZT17bW92aWV9XG4gICAgICAgICAgICAgIGFkZEZhdm9yaXRlPXthZGRGYXZvcml0ZX1cbiAgICAgICAgICAgICAgZGVsRmF2b3JpdGU9e2RlbEZhdm9yaXRlfVxuICAgICAgICAgICAgICAvPiBcbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2NlbnRlcj5cblxuICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgLmZvcm0tY29udHJvbCB7XG4gICAgICAgICAgICBtYXJnaW4tcmlnaHQ6MTJweDtcbiAgICAgICAgICAgIFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGB9PC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgaW5qZWN0KCdzdG9yZScpKG9ic2VydmVyKEluZGV4KSk7Il19 */\\n/*@ sourceURL=/home/commodore64/ombd-next/pages/index.js */\"));\n}\n\n;\nexport default inject('store')(observer(Index));","map":{"version":3,"sources":["/home/commodore64/ombd-next/pages/index.js"],"names":["fetch","localStorage","React","useState","useEffect","Card","inject","observer","store","Index","props","value","setValue","result","setResult","favorite","setFavorite","movielist","addFavorite","object","add_movie","console","log","JSON","parse","getItem","delFavorite","index","newFav","splice","setItem","handleSubmit","e","preventDefault","res","json","data","Response","Search","alert","set_movies","target","map","movie"],"mappings":"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","sourcesContent":["import fetch from 'isomorphic-unfetch';\nimport localStorage from 'mobx-localstorage';\nimport React, { useState, useEffect } from 'react';\nimport Card from '../components/Card';\nimport {inject, observer} from 'mobx-react';\nimport store from '../store';\n\n\nfunction Index(props) {\n\n  const [value, setValue] = useState();\n  const [result, setResult] = useState([]);\n  const [favorite, setFavorite] = useState([]);\n\n  \n  const {store} = props;\n  const {movielist} = store;\n\n  const addFavorite = object => {\n      store.add_movie(object);\n      console.log(JSON.parse(localStorage.getItem('favorites')));\n  };\n\n  const delFavorite = index => {\n      const newFav = [...favorite];\n      newFav.splice(index, 1);\n      setFavorite(newFav);\n      \n      localStorage.setItem('favorites', JSON.stringify(newFav));\n      console.log(JSON.parse(localStorage.getItem('favorites')));\n      \n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if(!value) return;\n    const res = await fetch(`http://www.omdbapi.com/?s=${value}&apikey=8ae8b189`);\n    const data = await res.json();\n    \n    \n    data.Response === \"True\" ? setResult(data.Search) : alert(\"Movie not found!\");\n\n    console.log(data);\n    \n  }\n\n  useEffect(() => {\n    if(localStorage.getItem('favorites')){\n      store.set_movies(JSON.parse(localStorage.getItem('favorites')));\n    }\n  }, []);\n\n  return (\n      <div className=\"container\">\n        <form className=\"form-inline\" id=\"form\" onSubmit={handleSubmit}>\n          <div className=\"row\">\n            <div className=\"column\">\n              <input type=\"text\" className=\"form-control\" placeholder=\"Title\" onChange={e => setValue(e.target.value)}/>\n            </div>\n            <div className=\"column\">\n              <input type=\"text\" className=\"form-control\" placeholder=\"Year\" />\n            </div>\n            <div className=\"column\">\n              <select id=\"inputState\" className=\"form-control\">\n                <option defaultValue>Choose...</option>\n                <option>...</option>\n              </select>\n            </div>\n            <button type=\"submit\" className=\"btn btn-info\">Search</button>\n          </div>\n        </form>\n        <hr/>\n\n        <center>\n          <div className=\"row\">\n            {result.map((movie, index) => (\n            <Card key={index} \n              index={index} \n              movie={movie}\n              addFavorite={addFavorite}\n              delFavorite={delFavorite}\n              /> \n            ))}\n          </div>\n        </center>\n\n        <style jsx>{`\n          .form-control {\n            margin-right:12px;\n            \n          }\n        }\n\n        `}</style>\n    </div>\n    );\n};\n\nexport default inject('store')(observer(Index));"]},"metadata":{},"sourceType":"module"}