{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar _jsxFileName = \"/home/commodore64/ombd-next/pages/index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport fetch from 'isomorphic-unfetch';\nimport localStorage from 'mobx-localstorage';\nimport React, { useState, useEffect } from 'react';\n\nfunction Index() {\n  var _useState = useState(),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  var _useState2 = useState([]),\n      result = _useState2[0],\n      setResult = _useState2[1];\n\n  var _useState3 = useState([]),\n      favorite = _useState3[0],\n      setFavorite = _useState3[1];\n\n  var _useState4 = useState(true),\n      favstatus = _useState4[0],\n      setFavStatus = _useState4[1];\n\n  var handleSubmit = function handleSubmit(e) {\n    var res, data;\n    return _regeneratorRuntime.async(function handleSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            e.preventDefault();\n\n            if (value) {\n              _context.next = 3;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 3:\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(fetch(\"http://www.omdbapi.com/?s=\".concat(value, \"&apikey=8ae8b189\")));\n\n          case 5:\n            res = _context.sent;\n            _context.next = 8;\n            return _regeneratorRuntime.awrap(res.json());\n\n          case 8:\n            data = _context.sent;\n            data.Response === \"True\" ? setResult(data.Search) : alert(\"Movie not found!\");\n            console.log(data);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  };\n\n  var check = function check(object) {\n    if (favorite) {\n      favorite.map(function (item) {\n        if (item.imdbID !== object.imdbID) {\n          console.log(item.imdbID);\n          setFavStatus(false);\n        }\n      });\n    }\n\n    console.log(object.imdbID, favstatus, favorite);\n  };\n\n  var addFavorite = function addFavorite(object) {\n    if (favstatus) {\n      var newFav = [].concat(_toConsumableArray(favorite), [object]);\n      setFavorite(newFav);\n\n      if (true) {\n        localStorage.setItem('favorites', _JSON$stringify(newFav));\n        console.log(JSON.parse(localStorage.getItem('favorites')));\n      }\n    }\n  };\n\n  useEffect(function () {\n    if (localStorage.getItem('favorites')) {\n      setFavorite(JSON.parse(localStorage.getItem('favorites')));\n    }\n  }, []);\n  return __jsx(\"div\", {\n    className: \"jsx-3069678240\" + \" \" + \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, __jsx(\"form\", {\n    id: \"form\",\n    onSubmit: handleSubmit,\n    className: \"jsx-3069678240\" + \" \" + \"form-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-3069678240\" + \" \" + \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-3069678240\" + \" \" + \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"Title\",\n    onChange: function onChange(e) {\n      return setValue(e.target.value);\n    },\n    className: \"jsx-3069678240\" + \" \" + \"form-control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"jsx-3069678240\" + \" \" + \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"Year\",\n    className: \"jsx-3069678240\" + \" \" + \"form-control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"jsx-3069678240\" + \" \" + \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, __jsx(\"select\", {\n    id: \"inputState\",\n    className: \"jsx-3069678240\" + \" \" + \"form-control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, __jsx(\"option\", {\n    selected: true,\n    className: \"jsx-3069678240\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Choose...\"), __jsx(\"option\", {\n    className: \"jsx-3069678240\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"...\"))), __jsx(\"button\", {\n    type: \"submit\",\n    className: \"jsx-3069678240\" + \" \" + \"btn btn-info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"Search\"))), __jsx(\"hr\", {\n    className: \"jsx-3069678240\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), __jsx(\"center\", {\n    className: \"jsx-3069678240\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-3069678240\" + \" \" + \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, result.map(function (search) {\n    return __jsx(\"div\", {\n      key: search.id,\n      id: \"poster\",\n      className: \"jsx-3069678240\" + \" \" + \"column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"jsx-3069678240\" + \" \" + \"card text-white bg-dark mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"jsx-3069678240\" + \" \" + \"card-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, search.Title, \" (\", search.Year, \")\"), __jsx(\"div\", {\n      className: \"jsx-3069678240\" + \" \" + \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, __jsx(\"h4\", {\n      className: \"jsx-3069678240\" + \" \" + \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), __jsx(\"img\", {\n      src: search.Poster,\n      id: \"image\",\n      className: \"jsx-3069678240\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    })), __jsx(\"p\", {\n      \"class\": \"card-text\",\n      className: \"jsx-3069678240\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, search.Type), __jsx(\"button\", {\n      onClick: function onClick() {\n        return addFavorite(search);\n      },\n      className: \"jsx-3069678240\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Fav\"), __jsx(\"button\", {\n      onClick: function onClick() {\n        return check(search);\n      },\n      className: \"jsx-3069678240\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Ce\")));\n  }))), __jsx(_JSXStyle, {\n    id: \"3069678240\",\n    __self: this\n  }, \".form-control.jsx-3069678240{margin-right:12px;}.card-header.jsx-3069678240{font-size:14px;}#image.jsx-3069678240{width:100%;height:300px;}#poster.jsx-3069678240{padding:0 10px;}.card.jsx-3069678240{width:250px;height:420px;text-align:center;}@media screen and (max-width:600px){.column.jsx-3069678240{width:100%;display:block;margin-bottom:20px;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2NvbW1vZG9yZTY0L29tYmQtbmV4dC9wYWdlcy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE0Rm9CLEFBRzhCLEFBSUYsQUFHSixBQUlJLEFBR0osQUFNQSxXQVhkLEFBWWlCLENBTkYsR0FWZCxBQU9BLEdBVkEsTUFPQSxDQU9vQixBQU1DLGtCQUxyQixDQU1BIiwiZmlsZSI6Ii9ob21lL2NvbW1vZG9yZTY0L29tYmQtbmV4dC9wYWdlcy9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmZXRjaCBmcm9tICdpc29tb3JwaGljLXVuZmV0Y2gnO1xuaW1wb3J0IGxvY2FsU3RvcmFnZSBmcm9tICdtb2J4LWxvY2Fsc3RvcmFnZSc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gSW5kZXgoKSB7XG5cbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VTdGF0ZSgpO1xuICBjb25zdCBbcmVzdWx0LCBzZXRSZXN1bHRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmF2b3JpdGUsIHNldEZhdm9yaXRlXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2ZhdnN0YXR1cywgc2V0RmF2U3RhdHVzXSA9IHVzZVN0YXRlKHRydWUpO1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZighdmFsdWUpIHJldHVybjtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgaHR0cDovL3d3dy5vbWRiYXBpLmNvbS8/cz0ke3ZhbHVlfSZhcGlrZXk9OGFlOGIxODlgKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICBcbiAgICBcbiAgICBkYXRhLlJlc3BvbnNlID09PSBcIlRydWVcIiA/IHNldFJlc3VsdChkYXRhLlNlYXJjaCkgOiBhbGVydChcIk1vdmllIG5vdCBmb3VuZCFcIik7XG4gICAgXG4gICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgXG4gIH1cblxuICBjb25zdCBjaGVjayA9IG9iamVjdCA9PiB7XG4gICAgXG4gICAgaWYoZmF2b3JpdGUpe1xuICAgICAgZmF2b3JpdGUubWFwKGl0ZW0gPT4ge1xuICAgICAgICBpZihpdGVtLmltZGJJRCAhPT0gb2JqZWN0LmltZGJJRCl7XG4gICAgICAgICAgY29uc29sZS5sb2coaXRlbS5pbWRiSUQpO1xuICAgICAgICAgIHNldEZhdlN0YXR1cyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhvYmplY3QuaW1kYklELCBmYXZzdGF0dXMsIGZhdm9yaXRlKTtcbiAgfTtcblxuICBjb25zdCBhZGRGYXZvcml0ZSA9IG9iamVjdCA9PiB7XG4gICAgaWYoZmF2c3RhdHVzKXtcbiAgICAgIGNvbnN0IG5ld0ZhdiA9IFsuLi5mYXZvcml0ZSwgb2JqZWN0XTtcbiAgICAgIHNldEZhdm9yaXRlKG5ld0Zhdik7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Zhdm9yaXRlcycsIEpTT04uc3RyaW5naWZ5KG5ld0ZhdikpO1xuICAgICAgICBjb25zb2xlLmxvZyhKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmYXZvcml0ZXMnKSkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmYXZvcml0ZXMnKSl7XG4gICAgICBzZXRGYXZvcml0ZShKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmYXZvcml0ZXMnKSkpO1xuICAgIH1cbiAgfSwgW10pO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8Zm9ybSBjbGFzc05hbWU9XCJmb3JtLWlubGluZVwiIGlkPVwiZm9ybVwiIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbHVtblwiPlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIiBwbGFjZWhvbGRlcj1cIlRpdGxlXCIgb25DaGFuZ2U9e2UgPT4gc2V0VmFsdWUoZS50YXJnZXQudmFsdWUpfS8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sdW1uXCI+XG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiIHBsYWNlaG9sZGVyPVwiWWVhclwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sdW1uXCI+XG4gICAgICAgICAgICAgIDxzZWxlY3QgaWQ9XCJpbnB1dFN0YXRlXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCI+XG4gICAgICAgICAgICAgICAgPG9wdGlvbiBzZWxlY3RlZD5DaG9vc2UuLi48L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8b3B0aW9uPi4uLjwvb3B0aW9uPlxuICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1pbmZvXCI+U2VhcmNoPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgICAgPGhyLz5cbiAgICAgICAgPGNlbnRlcj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAge3Jlc3VsdC5tYXAoc2VhcmNoID0+IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2x1bW5cIiBrZXk9e3NlYXJjaC5pZH0gaWQ9XCJwb3N0ZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZCB0ZXh0LXdoaXRlIGJnLWRhcmsgbWItM1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1oZWFkZXJcIj57c2VhcmNoLlRpdGxlfSAoe3NlYXJjaC5ZZWFyfSk8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJjYXJkLXRpdGxlXCI+PC9oND5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e3NlYXJjaC5Qb3N0ZXJ9IGlkPVwiaW1hZ2VcIi8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiY2FyZC10ZXh0XCI+e3NlYXJjaC5UeXBlfTwvcD5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gYWRkRmF2b3JpdGUoc2VhcmNoKX0+RmF2PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IGNoZWNrKHNlYXJjaCl9PkNlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8L2NlbnRlcj5cbiAgICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAgIC5mb3JtLWNvbnRyb2wge1xuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OjEycHg7XG4gICAgICAgICAgICBcbiAgICAgICAgICB9XG4gICAgICAgICAgLmNhcmQtaGVhZGVyIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgI2ltYWdlIHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgaGVpZ2h0OiAzMDBweFxuICAgICAgICAgIH1cbiAgICAgICAgICAjcG9zdGVyIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDAgMTBweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLmNhcmQge1xuICAgICAgICAgICAgd2lkdGg6MjUwcHg7XG4gICAgICAgICAgICBoZWlnaHQ6NDIwcHg7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDYwMHB4KSB7XG4gICAgICAgICAgLmNvbHVtbiB7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBgfTwvc3R5bGU+XG4gICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEluZGV4OyJdfQ== */\\n/*@ sourceURL=/home/commodore64/ombd-next/pages/index.js */\"));\n}\n\n;\nexport default Index;","map":{"version":3,"sources":["/home/commodore64/ombd-next/pages/index.js"],"names":["fetch","localStorage","React","useState","useEffect","Index","value","setValue","result","setResult","favorite","setFavorite","favstatus","setFavStatus","handleSubmit","e","preventDefault","res","json","data","Response","Search","alert","console","log","check","object","map","item","imdbID","addFavorite","newFav","setItem","JSON","parse","getItem","target","search","id","Title","Year","Poster","Type"],"mappings":"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","sourcesContent":["import fetch from 'isomorphic-unfetch';\nimport localStorage from 'mobx-localstorage';\nimport React, { useState, useEffect } from 'react';\n\nfunction Index() {\n\n  const [value, setValue] = useState();\n  const [result, setResult] = useState([]);\n  const [favorite, setFavorite] = useState([]);\n  const [favstatus, setFavStatus] = useState(true);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if(!value) return;\n    const res = await fetch(`http://www.omdbapi.com/?s=${value}&apikey=8ae8b189`);\n    const data = await res.json();\n    \n    \n    data.Response === \"True\" ? setResult(data.Search) : alert(\"Movie not found!\");\n    \n    console.log(data);\n    \n  }\n\n  const check = object => {\n    \n    if(favorite){\n      favorite.map(item => {\n        if(item.imdbID !== object.imdbID){\n          console.log(item.imdbID);\n          setFavStatus(false);\n        }\n      });\n    }\n    console.log(object.imdbID, favstatus, favorite);\n  };\n\n  const addFavorite = object => {\n    if(favstatus){\n      const newFav = [...favorite, object];\n      setFavorite(newFav);\n      if (typeof window !== 'undefined') {\n        localStorage.setItem('favorites', JSON.stringify(newFav));\n        console.log(JSON.parse(localStorage.getItem('favorites')));\n      }\n    }\n  };\n\n  useEffect(() => {\n    if(localStorage.getItem('favorites')){\n      setFavorite(JSON.parse(localStorage.getItem('favorites')));\n    }\n  }, []);\n    return (\n      <div className=\"container\">\n        <form className=\"form-inline\" id=\"form\" onSubmit={handleSubmit}>\n          <div className=\"row\">\n            <div className=\"column\">\n              <input type=\"text\" className=\"form-control\" placeholder=\"Title\" onChange={e => setValue(e.target.value)}/>\n            </div>\n            <div className=\"column\">\n              <input type=\"text\" className=\"form-control\" placeholder=\"Year\" />\n            </div>\n            <div className=\"column\">\n              <select id=\"inputState\" className=\"form-control\">\n                <option selected>Choose...</option>\n                <option>...</option>\n              </select>\n            </div>\n            <button type=\"submit\" className=\"btn btn-info\">Search</button>\n          </div>\n        </form>\n        <hr/>\n        <center>\n        <div className=\"row\">\n        {result.map(search => (\n        <div className=\"column\" key={search.id} id=\"poster\">\n            <div className=\"card text-white bg-dark mb-3\">\n                <div className=\"card-header\">{search.Title} ({search.Year})</div>\n                  <div className=\"container\">\n                    <h4 className=\"card-title\"></h4>\n                    <img src={search.Poster} id=\"image\"/>\n                  </div>\n                  <p class=\"card-text\">{search.Type}</p>\n                  <button onClick={() => addFavorite(search)}>Fav</button>\n                  <button onClick={() => check(search)}>Ce</button>\n                  \n            </div>\n        </div>\n        ))}\n        </div>\n        </center>\n        <style jsx>{`\n          .form-control {\n            margin-right:12px;\n            \n          }\n          .card-header {\n            font-size: 14px;\n          }\n          #image {\n            width: 100%;\n            height: 300px\n          }\n          #poster {\n            padding: 0 10px;\n          }\n          .card {\n            width:250px;\n            height:420px;\n            text-align: center;\n          }\n          @media screen and (max-width: 600px) {\n          .column {\n            width: 100%;\n            display: block;\n            margin-bottom: 20px;\n          }\n        }\n\n        `}</style>\n    </div>\n    );\n};\n\nexport default Index;"]},"metadata":{},"sourceType":"module"}